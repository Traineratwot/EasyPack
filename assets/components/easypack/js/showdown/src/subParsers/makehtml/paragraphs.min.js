
showdown.subParser('makehtml.paragraphs',function(text,options,globals){'use strict';text=globals.converter._dispatch('makehtml.paragraphs.before',text,options,globals).getText();text=text.replace(/^\n+/g,'');text=text.replace(/\n+$/g,'');var grafs=text.split(/\n{2,}/g),grafsOut=[],end=grafs.length;for(var i=0;i<end;i++){var str=grafs[i];if(str.search(/¨(K|G)(\d+)\1/g)>=0){grafsOut.push(str);}else if(str.search(/\S/)>=0){str=showdown.subParser('makehtml.spanGamut')(str,options,globals);str=str.replace(/^([ \t]*)/g,'<p>');str+='</p>';grafsOut.push(str);}}
end=grafsOut.length;for(i=0;i<end;i++){var blockText='',grafsOutIt=grafsOut[i],codeFlag=false;while(/¨(K|G)(\d+)\1/.test(grafsOutIt)){var delim=RegExp.$1,num=RegExp.$2;if(delim==='K'){blockText=globals.gHtmlBlocks[num];}else{if(codeFlag){blockText=showdown.subParser('makehtml.encodeCode')(globals.ghCodeBlocks[num].text,options,globals);}else{blockText=globals.ghCodeBlocks[num].codeblock;}}
blockText=blockText.replace(/\$/g,'$$$$');grafsOutIt=grafsOutIt.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,blockText);if(/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(grafsOutIt)){codeFlag=true;}}
grafsOut[i]=grafsOutIt;}
text=grafsOut.join('\n');text=text.replace(/^\n+/g,'');text=text.replace(/\n+$/g,'');return globals.converter._dispatch('makehtml.paragraphs.after',text,options,globals).getText();});



