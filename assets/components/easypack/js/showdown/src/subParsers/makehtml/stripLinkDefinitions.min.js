
showdown.subParser('makehtml.stripLinkDefinitions',function(text,options,globals){'use strict';var regex=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,base64Regex=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;text+='¨0';var replaceFunc=function(wholeMatch,linkId,url,width,height,blankLines,title){linkId=linkId.toLowerCase();if(url.match(/^data:.+?\/.+?;base64,/)){globals.gUrls[linkId]=url.replace(/\s/g,'');}else{globals.gUrls[linkId]=showdown.subParser('makehtml.encodeAmpsAndAngles')(url,options,globals);}
if(blankLines){return blankLines+title;}else{if(title){globals.gTitles[linkId]=title.replace(/"|'/g,'&quot;');}
if(options.parseImgDimensions&&width&&height){globals.gDimensions[linkId]={width:width,height:height};}}
return'';};text=text.replace(base64Regex,replaceFunc);text=text.replace(regex,replaceFunc);text=text.replace(/¨0/,'');return text;});



